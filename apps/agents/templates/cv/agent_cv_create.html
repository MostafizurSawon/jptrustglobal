{% extends layout_path %}
{% load static %}

{% block title %}নতুন ক্লায়েন্ট সিভি{% endblock %}

{% block content %}
<div class="container py-4">
  <div class="card shadow-sm">
    <div class="card-header bg-primary mb-4">
      <h5 class="mb-0 text-white">নতুন ক্লায়েন্টের সিভি যুক্ত করুন</h5>
    </div>

    <div class="card-body">
      {% if messages %}
        {% for message in messages %}
          <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
            {{ message }}
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
          </div>
        {% endfor %}
      {% endif %}

      <form method="post" enctype="multipart/form-data">
        {% csrf_token %}
        <div class="row">

          <!-- Full Name (English & Bangla) -->
          <div class="col-md-6 mb-3">
            <label class="form-label" for="full_name">পূর্ণ নাম (ইংরেজি)</label>
            <input type="text" name="full_name" id="full_name" class="form-control" placeholder="পূর্ণ নাম ইংরেজিতে লিখুন">
          </div>
          <div class="col-md-6 mb-3">
            <label class="form-label" for="full_name_bn">পূর্ণ নাম (বাংলা)</label>
            <input type="text" name="full_name_bn" id="full_name_bn" class="form-control" placeholder="পূর্ণ নাম বাংলায় লিখুন">
          </div>

          <!-- Phone & Email -->
          <div class="col-md-6 mb-3">
            <label class="form-label" for="phone">ফোন নম্বর</label>
            <input type="text" name="phone" id="phone" class="form-control" placeholder="01XXXXXXXXX" value="{{ form.phone.value|default_if_none:'' }}">
            {% if form.phone.errors %}
              <div class="text-danger small mt-2">
                {% for error in form.phone.errors %}
                  নিশ্চিত করুন যে এই মানটিতে সর্বাধিক ১৩টি অক্ষর আছে
                {% endfor %}
              </div>
            {% endif %}
          </div>

          <div class="col-md-6 mb-3">
            <label class="form-label" for="email">ইমেইল</label>
            <input type="email" name="email" id="email" class="form-control" placeholder="example@mail.com">
          </div>

          <!-- Date of Birth & Gender -->
          <div class="col-md-4 mb-3">
            <label class="form-label" for="date_of_birth">জন্মতারিখ</label>
            <input type="date" name="date_of_birth" id="date_of_birth" class="form-control">
          </div>
          <div class="col-md-4 mb-3">
            <label class="form-label" for="gender">লিঙ্গ</label>
            <select name="gender" id="gender" class="form-select">
              <option value="Male">পুরুষ</option>
              <option value="Female">নারী</option>
              <option value="Other">অন্যান্য</option>
            </select>
          </div>

          <!-- National ID & Nationality -->
          <div class="col-md-4 mb-3">
            <label class="form-label" for="national_id">জাতীয় পরিচয়পত্র নম্বর</label>
            <input type="number" name="national_id" id="national_id" class="form-control" placeholder="NID নম্বর">
          </div>
          <div class="col-md-6 mb-3">
            <label class="form-label" for="nationality">জাতীয়তা</label>
            <input type="text" name="nationality" id="nationality" class="form-control" placeholder="বাংলাদেশী">
          </div>

          <!-- Blood Group -->
          <div class="col-md-6 mb-3">
            <label class="form-label" for="blood_group">রক্তের গ্রুপ</label>
            <select name="blood_group" id="blood_group" class="form-select">
              <option value="A+">A+</option><option value="A-">A-</option>
              <option value="B+">B+</option><option value="B-">B-</option>
              <option value="AB+">AB+</option><option value="AB-">AB-</option>
              <option value="O+">O+</option><option value="O-">O-</option>
              <option value="Other">অন্যান্য</option>
            </select>
          </div>
          {% comment %} <div class="col-md-6 mb-3">
            <label class="form-label" for="blood_group_other">অন্যান্য রক্তের গ্রুপ</label>
            <input type="text" name="blood_group_other" id="blood_group_other" class="form-control" placeholder="রক্তের গ্রুপ Other হলে লিখুন">
          </div> {% endcomment %}



          <!-- Skills & Bio -->
          <div class="col-md-6 mb-3">
            <label class="form-label" for="skills">দক্ষতা</label>
            <input type="text" name="skills" id="skills" class="form-control" placeholder="আপনার দক্ষতা লিখুন কমা দিয়ে আলাদা করে">
          </div>
          <div class="col-md-6 mb-3">
            <label class="form-label" for="special_skills">বিশেষ দক্ষতা</label>
            <input type="text" name="special_skills" id="special_skills" class="form-control" placeholder="আপনার বিশেষ দক্ষতা লিখুন কমা দিয়ে আলাদা করে">
          </div>
          <div class="col-12 mb-3">
            <label class="form-label" for="bio">জীবনবৃত্তান্ত</label>
            <textarea name="bio" id="bio" class="form-control" rows="3" placeholder="সংক্ষিপ্ত নিজের পরিচয় লিখুন"></textarea>
          </div>

          <!-- Language -->
          <div class="col-md-12 mb-3">
            <label class="form-label" for="language">ভাষা</label>
            <input type="text" name="language" id="language" class="form-control" placeholder="যেমনঃ বাংলা, English ( কমা দিয়ে আলাদা করে লিখুন )">
          </div>

          <!-- Address -->
          <!-- বর্তমান ঠিকানা -->
          <div class="col-12 mb-3">
            <label class="form-label" for="current_address">বর্তমান ঠিকানা</label>
            <textarea name="current_address" id="current_address" class="form-control" rows="2" placeholder="আপনার বর্তমান ঠিকানা লিখুন"></textarea>
          </div>

          <!-- স্থায়ী ঠিকানা একই? -->
          <div class="col-md-6 mb-3">
            <div class="form-check mt-4">
              <input type="checkbox" class="form-check-input" id="is_permanent_same_as_current" name="is_permanent_same_as_current">
              <label class="form-check-label" for="is_permanent_same_as_current">স্থায়ী ঠিকানা একই?</label>
            </div>
          </div>

          <!-- স্থায়ী ঠিকানা -->
          <div class="col-12 mb-3">
            <label class="form-label" for="permanent_address">স্থায়ী ঠিকানা</label>
            <textarea name="permanent_address" id="permanent_address" class="form-control" rows="2" placeholder="স্থায়ী ঠিকানা লিখুন"></textarea>
          </div>

          <!-- পরিবার -->
          <div class="col-md-6 mb-3">
            <label class="form-label" for="fathers_name">পিতার নাম</label>
            <input type="text" name="fathers_name" id="fathers_name" class="form-control" placeholder="পিতার নাম লিখুন">
          </div>
          <div class="col-md-6 mb-3">
            <label class="form-label" for="fathers_mobile">পিতার মোবাইল</label>
            <input type="text" name="fathers_mobile" id="fathers_mobile" class="form-control" placeholder="পিতার মোবাইল নম্বর লিখুন">
          </div>
          <div class="col-md-6 mb-3">
            <label class="form-label" for="fathers_nid">পিতার এনআইডি</label>
            <input type="text" name="fathers_nid" id="fathers_nid" class="form-control" placeholder="পিতার এনআইডি নম্বর লিখুন">
          </div>

          <div class="col-md-6 mb-3">
            <label class="form-label" for="mothers_name">মাতার নাম</label>
            <input type="text" name="mothers_name" id="mothers_name" class="form-control" placeholder="মাতার নাম লিখুন">
          </div>
          <div class="col-md-6 mb-3">
            <label class="form-label" for="mothers_mobile">মাতার মোবাইল</label>
            <input type="text" name="mothers_mobile" id="mothers_mobile" class="form-control" placeholder="মাতার মোবাইল নম্বর লিখুন">
          </div>
          <div class="col-md-6 mb-3">
            <label class="form-label" for="mothers_nid">মাতার এনআইডি</label>
            <input type="text" name="mothers_nid" id="mothers_nid" class="form-control" placeholder="মাতার এনআইডি নম্বর লিখুন">
          </div>

          <!-- বৈবাহিক ও শিক্ষাগত -->
          <div class="col-md-6 mb-3">
            <label class="form-label" for="married">বৈবাহিক অবস্থা</label>
            <select name="married" id="married" class="form-select">
              <option value="Yes">হ্যাঁ</option>
              <option value="No">না</option>
            </select>
          </div>

          <div class="col-md-6 mb-3">
            <label class="form-label" for="last_education">সর্বশেষ শিক্ষাগত যোগ্যতা</label>
            <select name="last_education" id="last_education" class="form-select">
              <option value="SSC">এসএসসি</option>
              <option value="HSC">এইচএসসি</option>
              <option value="HONOURS">স্নাতক</option>
              <option value="Others">অন্যান্য</option>
            </select>
          </div>

          <div class="col-md-6 mb-3">
            <label class="form-label" for="last_education_other">অন্যান্য শিক্ষাগত যোগ্যতা</label>
            <input type="text" name="last_education_other" id="last_education_other" class="form-control" placeholder="যদি অন্যান্য হয়, এখানে লিখুন">
          </div>
          <div class="col-md-6 mb-3">
            <label class="form-label" for="last_education_result">ফলাফল</label>
            <input type="text" name="last_education_result" id="last_education_result" class="form-control" placeholder="ফলাফল লিখুন (যেমনঃ GPA 4.50)">
          </div>
          <div class="col-md-6 mb-3">
            <label class="form-label" for="last_education_passing_year">পাসের বছর</label>
            <input type="number" name="last_education_passing_year" id="last_education_passing_year" class="form-control" placeholder="পাসের সাল লিখুন (যেমনঃ 2022)">
          </div>


          <!-- Job Info -->
          <div class="col-md-6 mb-3">
            <label class="form-label" for="current_job_status">বর্তমান পেশার অবস্থা</label>
            <select name="current_job_status" id="current_job_status" class="form-select">
              <option value="Unemployed">বেকার</option>
              <option value="Employed">চাকরিজীবী</option>
              <option value="Student">ছাত্র/ছাত্রী</option>
              <option value="Business">ব্যবসা</option>
            </select>
          </div>
          {% comment %} <div class="col-md-6 mb-3">
            <label class="form-label" for="current_job_status_other">অন্যান্য পেশা</label>
            <input type="text" name="current_job_status_other" id="current_job_status_other" class="form-control">
          </div> {% endcomment %}
          {% comment %} <div class="col-md-6 mb-3">
            <label class="form-label" for="current_job_title">বর্তমান পেশার নাম</label>
            <input type="text" name="current_job_title" id="current_job_title" class="form-control">
          </div> {% endcomment %}
        </div>

        <!-- Profile Picture -->
          <div class="col-md-6 mb-3">
            <label class="form-label" for="profile_picture">প্রোফাইল ছবি</label>
            <input type="file" name="profile_picture" id="profile_picture" class="form-control">
          </div>

        <div class="mt-4">
          <button type="submit" class="btn btn-primary">সংরক্ষণ করুন</button>
        </div>
      </form>
    </div>
  </div>
</div>

<!-- Copy ঠিকানা স্ক্রিপ্ট -->
<script>
  document.addEventListener("DOMContentLoaded", function () {
    const currentAddress = document.getElementById("current_address");
    const permanentAddress = document.getElementById("permanent_address");
    const sameCheckbox = document.getElementById("is_permanent_same_as_current");

    sameCheckbox.addEventListener("change", function () {
      if (this.checked) {
        permanentAddress.value = currentAddress.value;
      } else {
        permanentAddress.value = '';
      }
    });
  });
</script>
{% endblock %}
