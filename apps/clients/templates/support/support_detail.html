{% extends layout_path %}
{% block title %}সাপোর্ট বিস্তারিত{% endblock %}

{% block content %}
<div class="flex-grow-1 container-p-y">
  <h4 class="fw-bold mb-3">সাপোর্ট বিস্তারিত</h4>
  {% if messages %}
    {% for message in messages %}
      <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
        {{ message }}
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
      </div>
    {% endfor %}
  {% endif %}

  <div class="card">
    <div class="card-body">
      <p><strong>স্ট্যাটাস:</strong>
        <span class="badge
          {% if support.status == 'pending' %}bg-warning
          {% elif support.status == 'in_progress' %}bg-info
          {% elif support.status == 'resolved' %}bg-success
          {% elif support.status == 'closed' %}bg-secondary
          {% endif %}">
          {{ support.get_status_display }}
        </span>
      </p>

      <p><strong>মেসেজ:</strong><br>{{ support.message }}</p>

      {% if support.reply %}
        <hr>
        <p><strong>অ্যাডমিনের উত্তর:</strong><br>{{ support.reply }}</p>
      {% endif %}

      <hr>
      <p><strong>তারিখ:</strong> {{ support.created_at|date:"Y-m-d h:i A" }}</p>
    </div>
    <div class="card-footer d-flex justify-content-between">
      <a href="{% url 'support_list' %}" class="btn btn-secondary">← ফিরে যান</a>
      <a href="{% url 'support_chat' support.pk %}" class="btn btn-success">চ্যাট করুন</a>
    </div>
  </div>
</div>
{% endblock %}
