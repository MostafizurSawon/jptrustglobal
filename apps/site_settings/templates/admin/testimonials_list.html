{% extends layout_path %}
{% load static %}

{% block title %}Testimonials{% endblock %}

{% block content %}
<div class="card p-4">
  <h5 class="mb-3">Add Testimonial</h5>
  <form method="POST" enctype="multipart/form-data" class="row g-3">
    {% csrf_token %}
    {{ form.as_p }}
    <div class="col-12">
      <button type="submit" class="btn btn-success">Submit</button>
    </div>
  </form>
</div>

<div class="card mt-4 p-4">
  <h5>All Testimonials</h5>
  <table class="table table-bordered mt-3">
    <thead>
      <tr>
        <th>Name</th>
        <th>Image</th>
        <th>Description</th>
        <th>Rating</th>
      </tr>
    </thead>
    <tbody>
      {% for t in testimonials %}
      <tr>
        <td>{{ t.name }}</td>
        <td>
          {% if t.image %}
            <img src="{{ t.image.url }}" width="60" height="60" class="rounded">
          {% endif %}
        </td>
        <td>{{ t.description }}</td>
        <td>{{ t.ratings }} Stars</td>
      </tr>
      {% empty %}
        <tr><td colspan="4" class="text-center">No testimonials found.</td></tr>
      {% endfor %}
    </tbody>
  </table>
  {% include "partials/pagination.html" with page_obj=testimonials %}
</div>
{% endblock %}
